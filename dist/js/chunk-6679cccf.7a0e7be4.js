(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6679cccf"],{"0ce7":function(e,t,r){"use strict";var o=r("57c3"),n=r.n(o);n.a},"336c":function(e,t,r){"use strict";var o=r("9f6c"),n=r.n(o);n.a},"498a":function(e,t,r){"use strict";var o=r("23e7"),n=r("58a8").trim,a=r("c8d2");o({target:"String",proto:!0,forced:a("trim")},{trim:function(){return n(this)}})},"57c3":function(e,t,r){},"9ed6":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container bgImg content"},[r("div",{staticClass:"layout"},[r("a-form-model",{ref:"loginForm",staticClass:"form-container",attrs:{model:e.loginForm,rules:e.loginRules,"wrapper-col":{span:22}}},[r("div",{staticClass:"title"},[e._v("Vue Antd Admin")]),r("a-tabs",{staticClass:"tabs",attrs:{tabBarGutter:35},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[r("a-tab-pane",{key:"user",attrs:{tab:"账号密码登录"}},["user"===e.currentTab?r("a-form-model-item",{attrs:{prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入账号 (admin or test or editor)",size:"large","allow-clear":""},on:{pressEnter:e.focusPassword},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1):e._e(),"user"===e.currentTab?r("a-form-model-item",{attrs:{prop:"password"}},[r("a-input-password",{ref:"password",attrs:{placeholder:"请输入密码 (任意输入6位数)",size:"large","allow-clear":""},on:{pressEnter:e.toLogin},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("svg-icon",{attrs:{slot:"prefix",icon:"password",size:14},slot:"prefix"})],1)],1):e._e()],1),r("a-tab-pane",{key:"phone",attrs:{tab:"手机号登录"}},["phone"===e.currentTab?r("a-form-model-item",{attrs:{prop:"phone"}},[r("a-input",{attrs:{placeholder:"请输入手机号",size:"large","allow-clear":"",maxLength:11,type:"text"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[r("svg-icon",{attrs:{slot:"prefix",icon:"phone",size:14},slot:"prefix"})],1)],1):e._e(),"phone"===e.currentTab?r("a-form-model-item",{attrs:{prop:"code"}},[r("a-input",{ref:"code",staticStyle:{width:"58%"},attrs:{placeholder:"请输入验证码",size:"large",maxLength:6},on:{pressEnter:e.toLogin},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),r("a-button",{staticStyle:{width:"35%","margin-left":"7%"},attrs:{size:"large",disabled:e.codeStatus},on:{click:e.getCode}},[e._v(e._s(e.phoneCode))])],1):e._e()],1)],1),r("a-form-item",{staticStyle:{"margin-top":"-7px"}},[r("a-button",{attrs:{type:"primary",block:"",size:"large",loading:e.loading},on:{click:e.toLogin}},[e._v(" 登录 ")])],1),r("a-form-item",{staticStyle:{"margin-top":"-7px"}},["user"===e.currentTab?r("a-checkbox",{model:{value:e.loginForm.remember,callback:function(t){e.$set(e.loginForm,"remember",t)},expression:"loginForm.remember"}},[e._v("记住密码")]):e._e(),r("span",{staticClass:"forge-password pointer"},[e._v("忘记密码")])],1),r("a-form-item",{staticStyle:{"margin-top":"-20px"}},[r("span",{staticStyle:{"margin-right":"15px"}},[e._v("其他登录方式")]),r("svg-icon",{staticClass:"pointer verticalMiddle",attrs:{icon:"weixin",size:25}}),r("svg-icon",{staticClass:"pointer verticalMiddle",staticStyle:{margin:"0 14px"},attrs:{icon:"qq",size:25}}),r("svg-icon",{staticClass:"pointer verticalMiddle",attrs:{icon:"zhifubao",size:25}}),r("span",{staticClass:"forge-password pointer"},[e._v("注册账户")])],1)],1)],1)])},n=[],a=(r("498a"),r("61f7")),s=r("5308"),i=r("c24f"),c={name:"login",data:function(){var e=function(e,t,r){0===t.trim().length?r(new Error("用户名不能为空")):r()},t=function(e,t,r){Object(a["c"])(t)?r():r(new Error("请正确输入密码"))},r=function(e,t,r){Object(a["d"])(t)?r():r(new Error("手机号码有误，请重新填写"))},o=function(e,t,r){Object(a["a"])(t)?r():r(new Error("验证码有误，请重新填写"))};return{currentTab:"user",loginForm:{username:"",password:"",phone:"",code:"",remember:!0},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}],phone:[{required:!0,trigger:"blur",validator:r}],code:[{required:!0,trigger:"blur",validator:o}]},loading:!1,phoneCode:"获取验证码",codeStatus:!1,currentCode:null}},mounted:function(){var e=Object(s["a"])("LOGIN_INFO");e&&(this.loginForm.username=e.username,this.loginForm.password=e.password)},methods:{focusPassword:function(){this.$refs.password.focus()},getCode:function(){var e=this;if(Object(a["d"])(this.loginForm.phone)){this.codeStatus=!0;var t=60,r=setInterval((function(){t>0?(t--,e.phoneCode="重新获取(".concat(t,"s)")):(clearInterval(r),r=null,e.phoneCode="获取验证码",e.codeStatus=!1)}),1e3);this.$refs.code.focus(),Object(i["b"])().then((function(t){e.currentCode=t.data,setTimeout((function(){e.$notification.success({message:"提示",description:"验证码获取成功，您的验证码为："+t.data},12)}),1e3)}))}else this.$message.error("请正确输入手机号")},toLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;if(e.loading=!0,"user"===e.currentTab){var r=e.loginForm,o=r.username,n=r.password;e.$store.dispatch("user/login",{username:o,password:n}).then((function(){e.loginForm.remember?(Object(s["c"])("LOGIN_INFO",{username:o,password:n}),e.$router.push({path:"/index"}),e.loading=!1):Object(s["b"])("LOGIN_INFO")})).catch((function(){setTimeout((function(){e.loading=!1}),500)}))}else if("phone"===e.currentTab){var a=e.loginForm,i=a.phone,c=a.code;e.$store.dispatch("user/codeTest",{phone:i,code:c}).then((function(){Object(s["b"])("LOGIN_INFO"),e.$router.push({path:"/index"}),e.loading=!1})).catch((function(){setTimeout((function(){e.loading=!1}),500)}))}}))}}},l=c,u=(r("0ce7"),r("336c"),r("2877")),d=Object(u["a"])(l,o,n,!1,null,"9ebfc484",null);t["default"]=d.exports},"9f6c":function(e,t,r){},c8d2:function(e,t,r){var o=r("d039"),n=r("5899"),a="​᠎";e.exports=function(e){return o((function(){return!!n[e]()||a[e]()!=a||n[e].name!==e}))}}}]);